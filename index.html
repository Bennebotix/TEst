<!DOCTYPE html>
<html>
  <head>
    <title>Run Jump Dodge Play!</title>
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
  </head>
  <body class="bg-black select-none">
    <canvas></canvas>    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/gsap.min.js" integrity="sha512-eP6ippJojIKXKO8EPLtsUMS+/sAGHGo1UN/38swqZa1ypfcD4I0V/ac5G3VzaHfDaklFmQLEs51lhkkVaqg60Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script type="text/javascript">
      const canvas = document.querySelector('canvas');
      const ctx = canvas.getContext('2d')
      canvas.width = window.innerWidth
      canvas.height = window.innerHeight
      const middleX = canvas.width / 2
      const middleY = canvas.height / 2
      let gravity = true
      let ground = false
        class Player {
          constructor(x, y, radius, color) {
            this.x = x
            this.y = y
            this.radius = radius
            this.color = color
          }
          draw() {
            ctx.beginPath()
            ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false)
            ctx.fillStyle = this.color
            ctx.fill()
          }
        }
        player = new Player(middleX, middleY, 15, 'red')
        function animate() {
          animationId = requestAnimationFrame(animate)
          ctx.fillStyle = 'rgba(0, 0, 0, 0.1)'
          ctx.fillRect(0, 0, canvas.width, canvas.height)
          player.draw()
          if (player.y < (canvas.height - 100) & gravity == true) {
            ground = false
            player.y += 1
          } else {
            ground = true
          }
        }
        animate()
        function ya() {
          window.loaction = 'https://www.youtube.com/watch?v=dQw4w9WgXcQ'
        }
        canvas.addEventListener("keypress", function(event){
          if (event.which == 32 & ground == true) {
            gravity = false
            gsap.to(player, {
              y: player.y - 50
            })
            setTimeout(function(){
              gravity = true
            }, 300)
          }
        });
      canvas.addEventListener("click", function(){
          if (ground == true) {
            gravity = false
            gsap.to(player, {
              y: player.y - 50
            })
            setTimeout(function(){
              gravity = true
            }, 50)
          }
        });
    </script>
  </body>
</html>
